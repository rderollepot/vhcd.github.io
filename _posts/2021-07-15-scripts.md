---
published: false
title: Automating The Boring Stuff
---
In the past months, the languages I've used most in the V-HCD is [PowerShell](https://en.wikipedia.org/wiki/PowerShell). Considering the V-HCD is powered by Unreal Engine, which has support for Blueprint, C++ and Python; you might wonder why do I write PowerShell script. The answer is: to automate the boring stuff. And there's lot of it.

# Context

To better understand what's there to automate, you have to understand our workflow. It's vaguely described in the [Version control](/version-control) article, but I'll try to explain it better here.

The VHCD is an Unreal Engine project (`vhcd.uproject`), and is versioned as a Git [superproject](https://en.wikibooks.org/wiki/Git/Submodules_and_Superprojects) with the following stored in submodules:

* Marketplace products (>150)
* Plugins (>25)
* Custom assets (>10)
* Dependencies (e.g. [Virtual Driver](/virtual-driver))

When we develop a new experiment with the V-HCD, we [fork](https://docs.github.com/en/get-started/quickstart/fork-a-repo) the superproject for this experiment, and all developments specific to that experiment will be done in this fork. This fork is never intended to be merged; it instead will be frozen once the experiment starts, to always have a copy of the exact software used to run the experiment.

# Making submodules

The first thing I automated was submodule creation for Marketplace products. As I mentioned, we have *a lot* of them, and doing that manually would just be too much work. This was very straightforward to automate, it's really just a bunch of command executed in order. You just need to do it once per product, as it's just a way to move it from Epic's server to our own GitLab. So first you need to manually download and install the Marketplace product. Then, you invoke it with the path of the submodule you want to create, e.g. `./make_submodule Content/MyAwesomeVehicle`, and it does everything. The script is something like the following.

```
Add pre-configured .gitattribute and .gitignore to submodule
Git init, add *, commit
# Push automatically creates the repo on GitLab!
Git push
Back to the superproject: add submodule and commit
```